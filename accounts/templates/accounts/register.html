{# templates/accounts/register.html #}
{% extends "accounts/base_accounts.html" %}
{% load static %}
{% block title %}Register ¬∑ Home Craft 3D{% endblock %}

{% block content %}
  <div style="max-width: 540px; margin: 40px auto;">
    <div style="text-align: center; margin-bottom: 32px;">
      <div style="margin:0 auto 16px;">
        <img src="{% static 'images/homecraft3d_icon.svg' %}" alt="Home Craft 3D" style="height:60px;width:auto;">
      </div>
      <h1 style="margin:0 0 8px;font-size:28px;font-weight:600;color:#111827;">Create account</h1>
      <p style="margin:0;color:#6b7280;font-size:15px;">
        Join to purchase downloads, track orders, and sell your models
      </p>
    </div>

    <div class="card" style="padding:32px;">

    <form method="post" novalidate style="margin-top: 14px;">
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div class="msg error">{{ form.non_field_errors }}</div>
      {% endif %}

      <div style="display:flex;flex-direction:column;gap:20px;">
        <div>
          <label for="{{ form.username.id_for_label }}">Username</label>
          {{ form.username }}
          {% for e in form.username.errors %}<div class="help" style="color:#dc2626;margin-top:4px;">{{ e }}</div>{% endfor %}
        </div>

        <div>
          <label for="{{ form.email.id_for_label }}">Email</label>
          {{ form.email }}
          {% for e in form.email.errors %}<div class="help" style="color:#dc2626;margin-top:4px;">{{ e }}</div>{% endfor %}
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          <div>
            <label for="{{ form.first_name.id_for_label }}">First name <span style="color:#9ca3af;">(optional)</span></label>
            {{ form.first_name }}
            {% for e in form.first_name.errors %}<div class="help" style="color:#dc2626;margin-top:4px;">{{ e }}</div>{% endfor %}
          </div>

          <div>
            <label for="{{ form.last_name.id_for_label }}">Last name <span style="color:#9ca3af;">(optional)</span></label>
            {{ form.last_name }}
            {% for e in form.last_name.errors %}<div class="help" style="color:#dc2626;margin-top:4px;">{{ e }}</div>{% endfor %}
          </div>
        </div>

        <div>
          <label for="{{ form.password1.id_for_label }}">Password</label>
          {{ form.password1 }}
          {% for e in form.password1.errors %}<div class="help" style="color:#dc2626;margin-top:4px;">{{ e }}</div>{% endfor %}
        </div>

        <div>
          <label for="{{ form.password2.id_for_label }}">Confirm password</label>
          {{ form.password2 }}
          {% for e in form.password2.errors %}<div class="help" style="color:#dc2626;margin-top:4px;">{{ e }}</div>{% endfor %}
        </div>
      </div>

      <div style="margin-top:24px;padding:20px;background:#fefce8;border:1px solid #fde047;border-radius:8px;">
        <label style="display:flex;align-items:start;gap:12px;cursor:pointer;margin:0;">
          <div style="flex-shrink:0;margin-top:2px;">
            {{ form.register_as_seller }}
          </div>
          <div style="flex:1;">
            <div style="font-weight:600;color:#854d0e;margin-bottom:4px;font-size:14px;">
              üíº Register as seller
            </div>
            <div style="font-size:13px;color:#a16207;line-height:1.5;">
              Enable selling to upload 3D models and physical prints to the marketplace. You'll complete Stripe onboarding after registration.
            </div>
          </div>
        </label>
      </div>

      <button class="btn" type="submit" style="width:100%;margin-top:24px;font-weight:500;">
        Create account
      </button>

      <div style="text-align:center;margin-top:20px;">
        <span style="color:#6b7280;font-size:14px;">Already have an account?</span>
        <a href="{% url 'accounts:login' %}" style="color:#111827;font-weight:500;margin-left:6px;">Sign in</a>
      </div>

      <div style="text-align:center;margin-top:20px;font-size:13px;color:#9ca3af;">
        By creating an account, you agree to our
        <a href="{% url 'legal:terms' %}" style="color:#6b7280;">Terms</a> and
        <a href="{% url 'legal:privacy' %}" style="color:#6b7280;">Privacy Policy</a>.
      </div>
    </form>
  </div>

  <div style="text-align:center;margin-top:24px;">
    <a href="{% url 'core:home' %}" style="color:#6b7280;font-size:14px;text-decoration:none;">
      ‚Üê Back to store
    </a>
  </div>
</div>
{% endblock %}
